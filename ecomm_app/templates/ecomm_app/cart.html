<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    {% extends 'ecomm_app/base.html' %}

{% block title %}Your Cart{% endblock %}

{% block content %}
<h1 class="mb-4">Shopping Cart</h1>

{% if items %}
<table class="table table-bordered text-center align-middle">
    <thead>
        <tr>
            <th>Product</th>
            <th>Price</th>
            <th width="160">Quantity</th>
            <th>Subtotal</th>
            <th>Action</th>
        </tr>
    </thead>
    <tbody>
        {% for item in items %}
        <tr>
            <td>{{ item.product.name }}</td>
            <td>₹{{ item.product.price }}</td>

            <td>
                <a href="{% url 'ecomm_app:decrease_quantity' item.product.id %}"
                   class="btn btn-sm btn-outline-secondary">−</a>

                <span class="mx-2">{{ item.quantity }}</span>

                <a href="{% url 'ecomm_app:increase_quantity' item.product.id %}"
                   class="btn btn-sm btn-outline-secondary">+</a>
            </td>

            <td>₹{{ item.subtotal }}</td>

            <td>
                <a href="{% url 'ecomm_app:remove_from_cart' item.product.id %}"
                   class="btn btn-danger btn-sm">
                   Remove
                </a>
            </td>
        </tr>
        {% endfor %}
        <tr>
            <td colspan="3"><strong>Total</strong></td>
            <td colspan="2"><strong>₹{{ total }}</strong></td>
        </tr>
    </tbody>
</table>

<a href="{% url 'ecomm_app:checkout' %}" class="btn btn-primary">
    Proceed to Checkout
</a>

{% else %}
<p>Your cart is empty.</p>
<a href="{% url 'ecomm_app:product_list' %}" class="btn btn-secondary">
    Shop Products
</a>
{% endif %}
{% endblock %}


</body>
</html>